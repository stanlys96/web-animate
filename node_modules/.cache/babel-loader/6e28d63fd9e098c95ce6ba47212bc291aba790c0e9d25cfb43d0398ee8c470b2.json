{"ast":null,"code":"import { __rest } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useEffect } from 'react';\nimport { ReorderContext } from '../../context/ReorderContext.mjs';\nimport { motion } from '../../render/dom/motion.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useMotionValue } from '../../value/use-motion-value.mjs';\nimport { useTransform } from '../../value/use-transform.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\nfunction useDefaultMotionValue(value) {\n  let defaultValue = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  return isMotionValue(value) ? value : useMotionValue(defaultValue);\n}\nfunction ReorderItem(_a, externalRef) {\n  var {\n      children,\n      style,\n      value,\n      as = \"li\",\n      onDrag,\n      layout = true\n    } = _a,\n    props = __rest(_a, [\"children\", \"style\", \"value\", \"as\", \"onDrag\", \"layout\"]);\n  const Component = useConstant(() => motion(as));\n  const context = useContext(ReorderContext);\n  const point = {\n    x: useDefaultMotionValue(style === null || style === void 0 ? void 0 : style.x),\n    y: useDefaultMotionValue(style === null || style === void 0 ? void 0 : style.y)\n  };\n  const zIndex = useTransform([point.x, point.y], _ref => {\n    let [latestX, latestY] = _ref;\n    return latestX || latestY ? 1 : \"unset\";\n  });\n  const measuredLayout = useRef(null);\n  invariant(Boolean(context), \"Reorder.Item must be a child of Reorder.Group\");\n  const {\n    axis,\n    registerItem,\n    updateOrder\n  } = context;\n  useEffect(() => {\n    registerItem(value, measuredLayout.current);\n  }, [context]);\n  return React.createElement(Component, Object.assign({\n    drag: axis\n  }, props, {\n    dragSnapToOrigin: true,\n    style: Object.assign(Object.assign({}, style), {\n      x: point.x,\n      y: point.y,\n      zIndex\n    }),\n    layout: layout,\n    onDrag: (event, gesturePoint) => {\n      const {\n        velocity\n      } = gesturePoint;\n      velocity[axis] && updateOrder(value, point[axis].get(), velocity[axis]);\n      onDrag === null || onDrag === void 0 ? void 0 : onDrag(event, gesturePoint);\n    },\n    onLayoutMeasure: measured => {\n      measuredLayout.current = measured;\n    },\n    ref: externalRef\n  }), children);\n}\nconst Item = forwardRef(ReorderItem);\nexport { Item, ReorderItem };","map":{"version":3,"names":["__rest","invariant","React","forwardRef","useContext","useRef","useEffect","ReorderContext","motion","useConstant","useMotionValue","useTransform","isMotionValue","useDefaultMotionValue","value","defaultValue","arguments","length","undefined","ReorderItem","_a","externalRef","children","style","as","onDrag","layout","props","Component","context","point","x","y","zIndex","_ref","latestX","latestY","measuredLayout","Boolean","axis","registerItem","updateOrder","current","createElement","Object","assign","drag","dragSnapToOrigin","event","gesturePoint","velocity","get","onLayoutMeasure","measured","ref","Item"],"sources":["/Users/stanly_s/Documents/yocia/node_modules/framer-motion/dist/es/components/Reorder/Item.mjs"],"sourcesContent":["import { __rest } from 'tslib';\nimport { invariant } from 'hey-listen';\nimport * as React from 'react';\nimport { forwardRef, useContext, useRef, useEffect } from 'react';\nimport { ReorderContext } from '../../context/ReorderContext.mjs';\nimport { motion } from '../../render/dom/motion.mjs';\nimport { useConstant } from '../../utils/use-constant.mjs';\nimport { useMotionValue } from '../../value/use-motion-value.mjs';\nimport { useTransform } from '../../value/use-transform.mjs';\nimport { isMotionValue } from '../../value/utils/is-motion-value.mjs';\n\nfunction useDefaultMotionValue(value, defaultValue = 0) {\n    return isMotionValue(value) ? value : useMotionValue(defaultValue);\n}\nfunction ReorderItem(_a, externalRef) {\n    var { children, style, value, as = \"li\", onDrag, layout = true } = _a, props = __rest(_a, [\"children\", \"style\", \"value\", \"as\", \"onDrag\", \"layout\"]);\n    const Component = useConstant(() => motion(as));\n    const context = useContext(ReorderContext);\n    const point = {\n        x: useDefaultMotionValue(style === null || style === void 0 ? void 0 : style.x),\n        y: useDefaultMotionValue(style === null || style === void 0 ? void 0 : style.y),\n    };\n    const zIndex = useTransform([point.x, point.y], ([latestX, latestY]) => latestX || latestY ? 1 : \"unset\");\n    const measuredLayout = useRef(null);\n    invariant(Boolean(context), \"Reorder.Item must be a child of Reorder.Group\");\n    const { axis, registerItem, updateOrder } = context;\n    useEffect(() => {\n        registerItem(value, measuredLayout.current);\n    }, [context]);\n    return (React.createElement(Component, Object.assign({ drag: axis }, props, { dragSnapToOrigin: true, style: Object.assign(Object.assign({}, style), { x: point.x, y: point.y, zIndex }), layout: layout, onDrag: (event, gesturePoint) => {\n            const { velocity } = gesturePoint;\n            velocity[axis] &&\n                updateOrder(value, point[axis].get(), velocity[axis]);\n            onDrag === null || onDrag === void 0 ? void 0 : onDrag(event, gesturePoint);\n        }, onLayoutMeasure: (measured) => {\n            measuredLayout.current = measured;\n        }, ref: externalRef }), children));\n}\nconst Item = forwardRef(ReorderItem);\n\nexport { Item, ReorderItem };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}