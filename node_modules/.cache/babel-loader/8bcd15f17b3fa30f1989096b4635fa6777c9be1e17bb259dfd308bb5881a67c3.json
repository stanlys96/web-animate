{"ast":null,"code":"import { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useVisualElementContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { useReducedMotionConfig } from '../../utils/use-reduced-motion.mjs';\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n  const lazyContext = useContext(LazyContext);\n  const parent = useVisualElementContext();\n  const presenceContext = useContext(PresenceContext);\n  const shouldReduceMotion = useReducedMotionConfig();\n  const visualElementRef = useRef(undefined);\n  /**\n   * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n   */\n  if (!createVisualElement) createVisualElement = lazyContext.renderer;\n  if (!visualElementRef.current && createVisualElement) {\n    visualElementRef.current = createVisualElement(Component, {\n      visualState,\n      parent,\n      props,\n      presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n      blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n      shouldReduceMotion\n    });\n  }\n  const visualElement = visualElementRef.current;\n  useIsomorphicLayoutEffect(() => {\n    visualElement === null || visualElement === void 0 ? void 0 : visualElement.syncRender();\n  });\n  useEffect(() => {\n    var _a;\n    (_a = visualElement === null || visualElement === void 0 ? void 0 : visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n  });\n  useIsomorphicLayoutEffect(() => () => visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(), []);\n  return visualElement;\n}\nexport { useVisualElement };","map":{"version":3,"names":["useContext","useRef","useEffect","PresenceContext","useVisualElementContext","useIsomorphicLayoutEffect","LazyContext","useReducedMotionConfig","useVisualElement","Component","visualState","props","createVisualElement","lazyContext","parent","presenceContext","shouldReduceMotion","visualElementRef","undefined","renderer","current","presenceId","id","blockInitialAnimation","initial","visualElement","syncRender","_a","animationState","animateChanges","notifyUnmount"],"sources":["/Users/stanly_s/Documents/yocia/node_modules/framer-motion/dist/es/motion/utils/use-visual-element.mjs"],"sourcesContent":["import { useContext, useRef, useEffect } from 'react';\nimport { PresenceContext } from '../../context/PresenceContext.mjs';\nimport { useVisualElementContext } from '../../context/MotionContext/index.mjs';\nimport { useIsomorphicLayoutEffect } from '../../utils/use-isomorphic-effect.mjs';\nimport { LazyContext } from '../../context/LazyContext.mjs';\nimport { useReducedMotionConfig } from '../../utils/use-reduced-motion.mjs';\n\nfunction useVisualElement(Component, visualState, props, createVisualElement) {\n    const lazyContext = useContext(LazyContext);\n    const parent = useVisualElementContext();\n    const presenceContext = useContext(PresenceContext);\n    const shouldReduceMotion = useReducedMotionConfig();\n    const visualElementRef = useRef(undefined);\n    /**\n     * If we haven't preloaded a renderer, check to see if we have one lazy-loaded\n     */\n    if (!createVisualElement)\n        createVisualElement = lazyContext.renderer;\n    if (!visualElementRef.current && createVisualElement) {\n        visualElementRef.current = createVisualElement(Component, {\n            visualState,\n            parent,\n            props,\n            presenceId: presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.id,\n            blockInitialAnimation: (presenceContext === null || presenceContext === void 0 ? void 0 : presenceContext.initial) === false,\n            shouldReduceMotion,\n        });\n    }\n    const visualElement = visualElementRef.current;\n    useIsomorphicLayoutEffect(() => {\n        visualElement === null || visualElement === void 0 ? void 0 : visualElement.syncRender();\n    });\n    useEffect(() => {\n        var _a;\n        (_a = visualElement === null || visualElement === void 0 ? void 0 : visualElement.animationState) === null || _a === void 0 ? void 0 : _a.animateChanges();\n    });\n    useIsomorphicLayoutEffect(() => () => visualElement === null || visualElement === void 0 ? void 0 : visualElement.notifyUnmount(), []);\n    return visualElement;\n}\n\nexport { useVisualElement };\n"],"mappings":"AAAA,SAASA,UAAU,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AACrD,SAASC,eAAe,QAAQ,mCAAmC;AACnE,SAASC,uBAAuB,QAAQ,uCAAuC;AAC/E,SAASC,yBAAyB,QAAQ,uCAAuC;AACjF,SAASC,WAAW,QAAQ,+BAA+B;AAC3D,SAASC,sBAAsB,QAAQ,oCAAoC;AAE3E,SAASC,gBAAgBA,CAACC,SAAS,EAAEC,WAAW,EAAEC,KAAK,EAAEC,mBAAmB,EAAE;EAC1E,MAAMC,WAAW,GAAGb,UAAU,CAACM,WAAW,CAAC;EAC3C,MAAMQ,MAAM,GAAGV,uBAAuB,CAAC,CAAC;EACxC,MAAMW,eAAe,GAAGf,UAAU,CAACG,eAAe,CAAC;EACnD,MAAMa,kBAAkB,GAAGT,sBAAsB,CAAC,CAAC;EACnD,MAAMU,gBAAgB,GAAGhB,MAAM,CAACiB,SAAS,CAAC;EAC1C;AACJ;AACA;EACI,IAAI,CAACN,mBAAmB,EACpBA,mBAAmB,GAAGC,WAAW,CAACM,QAAQ;EAC9C,IAAI,CAACF,gBAAgB,CAACG,OAAO,IAAIR,mBAAmB,EAAE;IAClDK,gBAAgB,CAACG,OAAO,GAAGR,mBAAmB,CAACH,SAAS,EAAE;MACtDC,WAAW;MACXI,MAAM;MACNH,KAAK;MACLU,UAAU,EAAEN,eAAe,KAAK,IAAI,IAAIA,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACO,EAAE;MAChGC,qBAAqB,EAAE,CAACR,eAAe,KAAK,IAAI,IAAIA,eAAe,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,eAAe,CAACS,OAAO,MAAM,KAAK;MAC5HR;IACJ,CAAC,CAAC;EACN;EACA,MAAMS,aAAa,GAAGR,gBAAgB,CAACG,OAAO;EAC9Cf,yBAAyB,CAAC,MAAM;IAC5BoB,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACC,UAAU,CAAC,CAAC;EAC5F,CAAC,CAAC;EACFxB,SAAS,CAAC,MAAM;IACZ,IAAIyB,EAAE;IACN,CAACA,EAAE,GAAGF,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACG,cAAc,MAAM,IAAI,IAAID,EAAE,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,EAAE,CAACE,cAAc,CAAC,CAAC;EAC9J,CAAC,CAAC;EACFxB,yBAAyB,CAAC,MAAM,MAAMoB,aAAa,KAAK,IAAI,IAAIA,aAAa,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,aAAa,CAACK,aAAa,CAAC,CAAC,EAAE,EAAE,CAAC;EACtI,OAAOL,aAAa;AACxB;AAEA,SAASjB,gBAAgB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}